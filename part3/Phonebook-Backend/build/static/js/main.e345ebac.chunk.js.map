{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","services/persons.js","App.js","index.js"],"names":["Filter","search","handleSearch","type","value","onChange","Notification","message","isError","className","PersonForm","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","Person","person","handleClick","style","listStyle","name","number","onClick","id","baseUrl","axios","get","then","response","data","personObject","post","delete","put","App","useState","persons","setPersons","useEffect","personsService","initialPersons","setNewName","setNewNumber","setSearch","searchResult","setSearchResult","setMessage","setIsError","handleDelete","window","confirm","filter","event","target","console","log","temp","toUpperCase","includes","preventDefault","find","modifiedPerson","map","p","setTimeout","catch","error","allPersons","newCreatedPerson","concat","result","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e345ebac.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ search, handleSearch }) => {\r\n  return (\r\n    <div>\r\n      filter shown with{\" \"}\r\n      <input type=\"text\" value={search} onChange={handleSearch} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, isError }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div className={isError ? \"error\" : \"success\"}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addNewPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addNewPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person, handleClick }) => {\r\n  return (\r\n    <li style={{ listStyle: \"none\" }}>\r\n      {person.name} {person.number}{\" \"}\r\n      <button onClick={() => handleClick(person.id, person.name)}>\r\n        Delete\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import axios from \"axios\";\r\n\r\n// const baseUrl = \"http://localhost:3001/api/persons\";\r\nconst baseUrl = \"https://evening-tundra-16153.herokuapp.com/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (personObject) => {\r\n  const request = axios.post(baseUrl, personObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (personObject) => {\r\n  const request = axios.put(`${baseUrl}/${personObject.id}`, personObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Person from \"./components/Person\";\nimport personsService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  useEffect(() => {\n    personsService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [searchResult, setSearchResult] = useState(persons);\n  const [message, setMessage] = useState(null);\n  const [isError, setIsError] = useState(false);\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value);\n    if (event.target.value !== \"\") {\n      console.log(\"Not empty\");\n      const temp = persons.filter((person) => {\n        return person.name\n          .toUpperCase()\n          .includes(event.target.value.toUpperCase());\n      });\n      setSearchResult(temp);\n      console.log(temp);\n    } else {\n      setSearchResult(persons);\n      console.log(searchResult);\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const addNewPerson = (event) => {\n    event.preventDefault();\n    const person = persons.find((person) => person.name === newName);\n    if (person) {\n      console.log(person);\n      person.number = newNumber;\n      console.log(person);\n      const result = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (result) {\n        personsService\n          .update(person)\n          .then((modifiedPerson) => {\n            setPersons(\n              persons.map((p) => (p.id === person.id ? modifiedPerson : p))\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setMessage(\n              `Modified ${modifiedPerson.name} number to ${modifiedPerson.number}`\n            );\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            console.log(\"failed\");\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setIsError(true);\n            setMessage(\n              `Information of ${person.name} has already been removed from server`\n            );\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n            personsService.getAll().then((allPersons) => {\n              setPersons(allPersons);\n            });\n          });\n      }\n    } else {\n      const newPerson = { name: newName, number: newNumber };\n      personsService.create(newPerson).then((newCreatedPerson) => {\n        setPersons(persons.concat(newCreatedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setSearchResult(persons);\n        setMessage(`Added ${newCreatedPerson.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const handleDelete = (id, name) => {\n    const result = window.confirm(`Delete ${name}`);\n    if (result) {\n      personsService\n        .remove(id)\n        .then(setPersons(persons.filter((person) => person.id !== id)));\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} isError={isError}></Notification>\n      <Filter search={search} handleSearch={handleSearch}></Filter>\n      <h3>Add a new</h3>\n      <PersonForm\n        addNewPerson={addNewPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      ></PersonForm>\n      <h2>Numbers</h2>\n      {search === \"\"\n        ? persons.map((person) => (\n            <Person\n              key={person.name}\n              person={person}\n              handleClick={handleDelete}\n            ></Person>\n          ))\n        : searchResult.map((result) => (\n            <Person\n              key={result.name}\n              person={result}\n              handleClick={handleDelete}\n            ></Person>\n          ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App></App>, document.getElementById(\"root\"));\n"],"sourceRoot":""}